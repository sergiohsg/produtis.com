/*! 20230702-3-RELEASE */
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var e="TFASC";e.indexOf("{jsScope}")>-1&&(e="TRC"),t[e]||(t[e]={})}(window),function(t,e){t.TRC=t.TRC||{};var i=function(){return!0},n=function(i,n,r,a){var s=i+"/"+encodeURIComponent(r||t.TRC.publisherId)+"/log/3/"+n;return a&&(s+="?"+e.TRCLogger.formatParams(a)),s},r=function(e,n,r){var s=new(t.XDomainRequest||t.XMLHttpRequest);return s.open(e,n),s.onload=i,s.onerror=i,s.ontimeout=i,s.onprogress=i,s.withCredentials=!0,r&&a(s,r),s},a=function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setRequestHeader(i,e[i])};t.TRC.TRCLogger=e.TRCLogger={post:function(i,a,s,o,c,u){var l=n(i,a,o,c),f=r("POST",l);u&&"function"==typeof t.navigator.sendBeacon?t.navigator.sendBeacon(l,e.TRCLogger.formatBeaconParams(s)):(f.setRequestHeader&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(e.TRCLogger.formatParams(s)))},get:function(t,e,i,a){if(i.headers){var s=i.headers;delete i.headers}var o=n(t,e,a,i);r("GET",o,s).send()},formatParams:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")},formatBeaconParams:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+"="+encodeURIComponent(t[i])+"&");return new Blob([e.slice(0,-1)],{type:"application/x-www-form-urlencoded"})},reportES:function(t){if(e&&e.util&&e.util.isPercentEnabled(TRCImpl.global,"enable-rbox-es-events")){var i=TRCImpl&&TRCImpl.global&&TRCImpl.global["rbox-es-events-url"]||"https://vidanalytics.taboola.com/putes";i=i+"/"+t.index;var n={timestamp:(new Date).toISOString(),name:t.name};for(var r in t.data)n[r]=t.data[r];if("function"==typeof navigator.sendBeacon)navigator.sendBeacon(i,JSON.stringify(n));else{var a=new XMLHttpRequest;a.open("POST",i,!0),a.send(JSON.stringify(n))}}}}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){if(e&&!e.MessageDelayer){var i=function(i){return function(n){var r=n.detail,a=n.type,s=""+r[this.groupingKeyName],o=this.delayedEventsMap[s],c=e.eventUtils.getDateNow();if(o){this.timeoutHandles[s]&&(clearTimeout(this.timeoutHandles[s]),this.timeoutHandles[s]=null);var u=[].concat(o);this.delayedEventsMap[s]=[];for(var l=0;l<u.length;l++){var f=u[l];i(f.config).apply(t,[f.groupingKey,f.message,r,a,c-f.queueTime])}}}},n=i((function(t){return t.successCallback})),r=i((function(t){return t.failCallback})),a=function(t,e){var i=""+t;this.timeoutHandles[i]||(this.timeoutHandles[i]=setTimeout(function(){this.timeoutHandles[i]=null;var e={};e[this.groupingKeyName]=t,r.call(this,{detail:e,type:"dt"})}.bind(this),e))};e.MessageDelayer=function(t,i,a){if(this.groupingKeyName=t,this.delayedEventsMap={},this.timeoutHandles={},e.eventUtils.safeAddEventListener(i,n.bind(this)),a)for(var s=0;s<a.length;s++)e.eventUtils.safeAddEventListener(a[s],r.bind(this))},e.MessageDelayer.prototype={constructor:e.MessageDelayer,delayMessage:function(t,i,n){var r=""+t;n.failCallback=n.failCallback||function(){},this.delayedEventsMap[r]||(this.delayedEventsMap[r]=[]),this.delayedEventsMap[r].push({groupingKey:t,message:i,config:n,queueTime:e.eventUtils.getDateNow()}),n.timeoutInMillis&&a.call(this,t,n.timeoutInMillis)}}}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t){t.TRC=t.TRC||{},t.TRC.sharedObjects=t.TRC.sharedObjects||{},t.TRC.sharedObjects.loadedScripts=t.TRC.sharedObjects.loadedScripts||{},t.TRC.sharedObjects.loadedPixels=t.TRC.sharedObjects.loadedPixels||{}}(window),function(t,e,i){!function(){if("function"==typeof t.CustomEvent)return!1;function i(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n}i.prototype=t.Event.prototype,t.CustomEvent=i}(),i.eventUtils=i.eventUtils||{},i.eventUtils.dispatchEvent=i.eventUtils.dispatchEvent||function(t,e){"function"==typeof CustomEvent&&document.dispatchEvent(new CustomEvent(t,{detail:e||{}}))},i.eventUtils.safeAddEventListener=i.eventUtils.safeAddEventListener||function(t,e){document.addEventListener(t,(function(t){try{e.call(this,t)}catch(t){}}))},i.eventUtils.safeAddEventListenerToWindow=i.eventUtils.safeAddEventListenerToWindow||function(t,e){window.addEventListener(t,(function(t){try{e.call(this,t)}catch(t){}}))},i.eventUtils.getDateNow=i.eventUtils.getDateNow||function(){var t,e;if(Date.now){if("number"==typeof(t=Date.now()))return t;if("number"==typeof(e=Number(t)))return e}return(new Date).getTime()},i.eventUtils.hashString=i.eventUtils.hashString||function(t){var e=0;if(0==t.length)return e;for(var i=0;i<t.length;i++){e=(e<<5)-e+t.charCodeAt(i),e&=e}return e},i.sharedEvents=i.sharedEvents||{PAGE_VIEW:"TRK_TFA_PAGE_VIEW",REQUEST_ID_CREATED:"TRK_TFA_REQUEST_ID_CREATED",REQUEST_ID_CREATION_TIMEOUT:"TRK_TFA_REQUEST_ID_CREATION_TIMEOUT",REQUEST_ID_CREATION_ERROR:"TRK_TFA_REQUEST_ID_CREATION_ERROR",REQUEST_ID_CREATION_JS_ERROR:"TRK_TFA_REQUEST_ID_CREATION_JS_ERROR",INVALID_TRK_RESPONSE:"TRK_TFA_INVALID_TRK_RESPONSE"},i.publisherIdType=i.publisherIdType||{NAME:"n",ID:"i"},i.pageViewInitiator=i.pageViewInitiator||{TRK:"trk",TFA:"tfa"}}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){t._tfa=t._tfa||[],t._tfa.config||(t._tfa.TfaConfig=function(){this.configMap={}},t._tfa.TfaConfig.prototype={safeGet:function(t,e,i){var n,r;if(i&&this.configMap[i])n=""+i;else{if(!this.firstPublisherId)return e;n=this.firstPublisherId}try{return void 0===(r=this.configMap[n][t])?e:r}catch(t){return e}},hasValidConfig:function(){return!!this.firstPublisherId},addConfig:function(t,e){"string"==typeof e||e instanceof String||(this.firstPublisherId||(this.firstPublisherId=t),this.configMap[""+t]=e)}},t._tfa.config=new t._tfa.TfaConfig,t._taboola=t._taboola||[]),t._tfa.config.addConfig(1458121,{"tfa:event-host-map":{pre_d_eng_tb:"trc-events.taboola.com"},"tfa:add-item-url:event-list":"*","tfa:trk:is-unified-page-view":!0,"eid:send-eid-encoded":!0,"tfa-uid:send-ids-to-cds":!1,"cds:send-uad-req":!0,"cds:send-dnid-req":!0,"tfa:get-publisher-id-from-baker":!0,"tfa:trk:flc-enabled":!0,"tfa:engagement:return-visits:is-enabled":!0,"tfa:collect-eid-from-page":!1,"eid-enabled":"false","eid:tfa:common-eid-keywords":"help,support,contact,readme,test,info,reply,careers,spam,login,subscribe,feedback,reachus,customers,cookie,members","trc:user-history:conversion-incrementality-enable":!1})}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e,i){"use strict";var n,r,a,s,o=t[i.jsScope],c={map:function(t,e){if("function"==typeof Array.prototype.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n,e));return i},forEach:function(t,e){if("function"==typeof Array.prototype.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},filter:function(t,e){if("function"==typeof Array.prototype.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i},objKeys:Object.keys||(n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=a.length,function(t){if("function"!=typeof t&&("object"!==_typeof(t)||null===t))throw new TypeError("Object.keys called on non-object");var e,i,o=[];for(e in t)n.call(t,e)&&o.push(e);if(r)for(i=0;i<s;i++)n.call(t,a[i])&&o.push(a[i]);return o})};i.networkMap&&"string"!=typeof i.networkMap||(i.networkMap={});var u,l,f=null,d=null,h=null,g=null,p={},m=0,v=!1,S="requestTimeoutHandle",b="requestId",T="requestStatus",y="trkRequestDone",E="init",I=["tto","f"],w=[E,"pr","pud"],R=((l={})[o.publisherIdType.NAME]="name",l[o.publisherIdType.ID]="id",l),C=function(){for(var t={},e=c.objKeys(i.networkMap),n=0;n<e.length;++n){t[""+i.networkMap[e[n]][R[o.publisherIdType.ID]]]=!0}return t}(),_="TRK_RELEASE_DELAYED_REQUESTS_EVENT",U=function(){var t={gk:"dk"};return t}(),D=new o.MessageDelayer("gk",_),O=function(t,e){A=A.loadTrc(e.publisherId,e.publisherIdType,e.config,e.requestData)},k={UNINITIALIZED:{loadTrc:function(t,e,i,n){var r=ht();return q(t,e,i,n),r?k.USER_ID_SET:k.PENDING_USER_ID_SET}},PENDING_USER_ID_SET:{loadTrc:function(t,e,i,n){return n[T]="pud",D.delayMessage("dk",{publisherId:t,publisherIdType:e,config:i,requestData:n},{successCallback:O}),k.PENDING_USER_ID_SET}},USER_ID_SET:{loadTrc:function(t,e,i,n){return q(t,e,i,n),k.USER_ID_SET}}},A=k.UNINITIALIZED,P=(t.taboola_view_id||(t.taboola_view_id=(new Date).getTime()),t.taboola_view_id),N=function(){return!0===i.tfaContext},x=function(t,e,i){var n=t.split(e);return n.slice(0,i-1).concat(n.length>=i?n.slice(i-1).join(e):[])},M=function(t){if(!t)throw new Error("Invalid URL!");this.href=t;var e=x(t,"#",2);return this.hash=e.length>1?"#"+e.pop():"",t=e[0],e=x(t,"?",2),this.search=e.length>1?"?"+e.pop():"",t=e[0],e=x(t,"://",2),this.protocol=e.length>1?e.shift()+":":"",t=e[0],e=x(t,"/",2),this.pathname=e.length>1?"/"+e.pop():"/",t=e[0],e=x(t,"@",2),this.auth=e.length>1?e.shift():"",t=e[0],e=x(t,":",2),this.port=e.length>1?parseInt(e.pop()):0,this.host=e[0],this},V={"http:":1,"https:":1};M.prototype.toString=function(t){return(this.host?this.protocol+"//"+(this.auth?this.auth+"@":"")+this.host+(this.port?":"+this.port:""):"")+this.pathname+this.search+(t?"":this.hash||"")},M.prototype.switchProtocol=function(t,e){var i,n=this instanceof M?this:new M(this);return V[t]&&(e&&"https:"===n.protocol||(n.protocol=t)),(i=n.toString(!1)).length>1?i:""},M.prototype.getParameter=function(t){for(var e=(this instanceof M?this:new M(this)).search.substr(1).split(/&/),i=0;i<e.length;i++){var n=e[i].split(new RegExp("="),2);if(unescape(n[0])===t)return unescape(n[1])}return null};var L={states:{ABP_DETECTION_DISABLED:-2,ABP_NOT_DETECTED:0,ABP_DETECTED:1},createBlockDetectionDiv:function(t){var i=e.createElement("div");return i.className=t,i.style.fontSize="initial",i.appendChild(e.createTextNode(".")),e.documentElement.appendChild(i),i},isBlockDetectedOnDiv:function(t){return!t.offsetHeight},isBlockDetectedOnClassNames:function(t){var i,n,r=t.length;for(i=0;i<r;i++)if(t[i]){n=this.createBlockDetectionDiv(t[i]);try{if(this.isBlockDetectedOnDiv(n))return!0}catch(t){}finally{e.documentElement.removeChild(n)}}return!1},getBlockedState:function(t){return nt()||rt()?this.states.ABP_NOT_DETECTED:t&&this.isBlockDetectedOnClassNames(t)?this.states.ABP_DETECTED:this.states.ABP_NOT_DETECTED}},F=function(t){o[t.callbackName]=function(){},t.newScriptElement.parentNode.removeChild(t.newScriptElement),t.newScriptElement=null,delete t.newScriptElement},K=function(e){F(e),e[T]="tto",e.isMediaRequest||(t.TRC.trkRequestStatus=!1),A===k.PENDING_USER_ID_SET&&(A=k.UNINITIALIZED),e[y]?o.eventUtils.dispatchEvent(o.sharedEvents.INVALID_TRK_RESPONSE,{publisherId:e.publisherId}):o.eventUtils.dispatchEvent(o.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,{publisherId:e.publisherId}),H()},j=function(t,i,n,r){var a=e.getElementsByTagName("script")[0],s=e.createElement("script");return s.type="text/javascript",s.src=t,s.charset="UTF-8",n?s.setAttribute("defer","defer"):r&&s.setAttribute("async","async"),"function"==typeof i&&(s.addEventListener?(s.addEventListener("load",i,!1),s.addEventListener("error",i,!1)):s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||i.apply(s)}),a.parentNode.insertBefore(s,a),s},q=function(e,n,r,a){var s=i.rboxTrcProtocol+"//trc.taboola.com/"+e+"/trc/3/json?tim="+(new Date).getTime()+"&data="+encodeURIComponent(JSON.stringify(G(a)))+"&pubit="+n,o=r.isMediaRequest?t._tfa.config.safeGet("tfa:trk:tracking-request-timeout",2e3,e):5e3;a[T]="pr",a[S]=t.setTimeout(function(t){return function(){K(t)}}(a),o),a.newScriptElement=j(s,(function(){a[y]=!0}))},G=function(t){return o[t.callbackName]=function(t){return function(e){W(t,e)}}(t),Z(t)},B=function(t){var e=p[t=""+t];return e&&e.length>0?e[e.length-1]:null},H=function(){o.eventUtils.dispatchEvent(_,U)},W=function(e,n){if(t.clearTimeout(e[S]),n&&n.trc){if(n.trc.ui?(n.trc.DNT&&"TRUE"===n.trc.DNT.toUpperCase()?localStorage.removeItem("taboola global:user-id"):n.trc.cm||localStorage.setItem("taboola global:user-id",n.trc.ui),A=k.USER_ID_SET):A=k.UNINITIALIZED,n.trc.sd&&!n.trc.cm&&localStorage.setItem(e.publisherId+":session-data",n.trc.sd),n.trc.vl&&n.trc.vl.length){var r=n.trc.vl[0].ri;e.isMediaRequest||(t.TRC.events_ri=r),e[b]=r,e[T]="s",o.eventUtils.dispatchEvent(o.sharedEvents.REQUEST_ID_CREATED,{publisherId:e.publisherId,requestId:r})}e.isMediaRequest&&o.trk.rboxNotLoaded()&&(n.trc.stp&&o.trk.loadPixels(n.trc.stp),n.trc.jst&&o.trk.loadScriptTags(n.trc.jst))}"s"!==e[T]&&(e[T]="f",o.eventUtils.dispatchEvent(o.sharedEvents.REQUEST_ID_CREATION_ERROR,{publisherId:e.publisherId})),e.isMediaRequest||(t.TRC.trkRequestStatus=!(I.indexOf(e[T])>=0)),t.TRC.alertVVResponseLoaded&&t.TRC.alertVVResponseLoaded(i.tblVersion),F(e),H()},J=function(){var t=/https?:\/\/\w+\.taboola(?:syndication)?\.com/,e=function(e){return t.test(e)?e.split("?")[0]:e.substr(0,400)},i=[function(){for(var t=document.head.getElementsByTagName("link"),e=0;e<t.length;e++)if("referrer"===t[e].rel)return t[e].href;return null},function(){var t=function(){try{return decodeURI(top.window.document.referrer)}catch(t){}return null}();return t?e(t):null}],n=function(){for(var t,e=0;!t&&e<i.length;e++)t=i[e].call(this);return t};return n.innerExtractReferrerFromTopMostReferrer=e,n}(),z=function(){var t=g;return t||(t=J()),t},Q=function(){if(u)return u;var e;return(u=t.location.search).length>400&&(e=u.substring(0,399),u=e.substring(0,e.lastIndexOf("&"))),u},$=function(n,r){var a,s={},u=n.metadata,l=n.publisherId,f=t._tfa.config.safeGet("tfa:trk:should-send-media-data",!0,l),d=t._tfa.config.safeGet("tfa:trk:media-data-param-name","mpvd",l),h=t._tfa.config.safeGet("tfa:trk:page-view-payload-param-name","mpv",l),g=t._tfa.config.safeGet("tfa:trk:unified-page-view-param-name","supv",l);return c.forEach((function(t){var e=u[t];r.hasOwnProperty(t)&&e===r[t]||(s[t]=e)}),c.objKeys(u)),r[h]=!0,n.isUnifiedPageView&&(r[g]=!0,s[g]=!0),f&&(r[d]=s),t._tfa.config.safeGet("tfa:trk:topics-enabled",!1,i.bakedPublisherId)&&e.browsingTopics&&(a=o.trk.readGoogleTopicsApiFromLocalStorage())&&(r.top=a),r},Y=function(e){var n=i.jsScope+"."+e.callbackName,r=L.getBlockedState(["banner_ad","sponsored_ad"]);return{id:~~(1e3*Math.random()),ii:et(e),it:ft(t._taboola),sd:dt(e.publisherId),ui:ht(),vi:P,cv:i.tblVersion,uiv:"default",u:gt(),e:z(),cb:n,qs:Q(),r:[{li:"rbox-tracking",s:0,uim:"rbox-tracking:pub="+i.bakedPublisherName+":abp="+r,uip:"rbox-tracking",orig_uip:"rbox-tracking"}]}},Z=function(t){var e=Y(t);return nt()&&function(t){var e;if(t){try{e=M.prototype.getParameter.call(window.location.href,"cnsntstr")}catch(t){}e&&(t.tcs=e,t.ga=!0,t.cmps=5),t.ad={sdkd:{os:"AMP",osv:1,sdkt:"Taboola AMP Driver",sdkv:"1"}}}}(e),t.isMediaRequest&&(e=$(t,e)),e},X=function(t){for(var e=0;e<t.length;++e)for(var i=t[e],n=c.objKeys(i),r=0;r<n.length;++r){var a=n[r],s=i[a];if("unknown"!==s)switch("auto"===s&&(s=""),a){case"video":f=s;break;case"url":h=s;break;case"article":case"category":case"home":case"search":case"photo":case"other":case"content_hub":d=s;break;case"ref_url":g=s}}},tt=function(e){if(e){var i=o.trk.getPublisherRequestId(e);if(i)return i}return t.TRC.events_ri},et=function(t){var e=null;return f||""===f?e=f:(d||""===d)&&(e=d),(""===e||t.isMediaRequest)&&(e=st("item-id",i.normalizeItemId,i.prenormalizeIdRules)),e},it=function(t,e,i){var n;if(!i)return e;c.forEach((function(t){var i=e.search(t);i>=0&&(e=e.substr(0,i))}),i["truncate-at"]||[]);for(var r=new M(e),a=c.objKeys(i),s=0;s<a.length;++s){var o=a[s];if(i[o])switch(o){case"host":delete r.host;break;case"trailing-dirsep":for(;"/"===r.pathname.substr(r.pathname.length-1);)r.pathname=r.pathname.substr(0,r.pathname.length-1);break;case"query":var u=[],l=r.search.replace(/^\?/,"").split("&");"string"==typeof(n=i[o])&&(n=new RegExp(n));var f=n instanceof Array?function(t){for(var e=0;e<n.length;e++)if(t===n[e])return!0;return!1}:n instanceof RegExp?n.test.trcBind(n):function(){return!1};l.forEach((function(t){f(decodeURIComponent(t.split("=")[0]))&&u.push(t)})),r.search=(u.length?"?":"")+u.join("&");break;case"fragment":var d=r.hash.replace(/^#/,"");"string"==typeof(n=i[o])&&(n=new RegExp(n)),r.hash="",n instanceof RegExp&&n.test(d)?r.hash="#"+d:n instanceof Array&&n.forEach((function(t){d.search(t)>=0&&(r.hash="#"+d)}))}}return r.pathname||(r.pathname="/"),"item-id"===t?r.toString().toLowerCase():r.toString()},nt=function(){return at(z(),"ampproject.net")},rt=function(){return at(z(),"instantarticles.fb.com")},at=function(t,e){try{return void 0!==t&&void 0!==e&&t.indexOf(e)>0}catch(t){return!1}},st=function(t,e,n){var r,a,s,o={paramUrl:ot,canonical:ct,og:ut,location:lt},c=i.urlExtractOrder&&Array.isArray(i.urlExtractOrder)?i.urlExtractOrder:["paramUrl","meta","canonical","og","location"],u=0,l="",d=function(t,e){return it.call(this,t,e,n)};for(c.push("location");u<c.length&&(!l||/^\s*$/.test(l));)a=c[u],l=(r=o[c[u]])?r.call(null,t,d):null,u++;return"item-url"===t&&a===ot?l:(s=a!==lt,l="function"==typeof e?e.call(this,l,f?"video":"text",s):l)},ot=function(t,e){return!h||"item-id"!==t&&"item-url"!==t?null:e.call(this,t,o.trk.encodeItemUrlIfNeeded(h))},ct=function(t,i){for(var n=e.head.getElementsByTagName("link"),r=0;r<n.length;r++)if("canonical"===n[r].rel&&n[r].href)return i.call(this,t,o.trk.encodeItemUrlIfNeeded(n[r].href));return null},ut=function(t,i){for(var n=e.head.getElementsByTagName("meta"),r=0;r<n.length;r++)if("og:url"===n[r].getAttribute("property")&&n[r].content.length>5)return i.call(this,t,o.trk.encodeItemUrlIfNeeded(n[r].content));return null},lt=function(e,i){return i.call(this,e,function(){var e=t.location,i=c.filter((function(t){return 0!==t.search("trc_")&&"taboola-debug"!==t}),e.search.replace(/^\?/,"").split("&")).join("&");return e.origin+e.pathname+"?"+i}())},ft=function(t){try{var e=c.objKeys(t[0]);for(var i in e)switch(e[i]){case"home":return"home";case"category":return"category";case"text":case"article":return"text";case"search":return"search";case"photo":return"photo";case"other":return"other";case"content_hub":return"content_hub";case"video":default:return"video"}}catch(t){return"video"}},dt=function(t){return localStorage.getItem(t+":session-data")},ht=function(){return localStorage.getItem("taboola global:user-id")},gt=function(){return st("item-url",i.normalizeItemUrl,i.prenormalizeUrlRules)},pt=function(){for(var t,i=function(t){for(var e,i=/^(.*\/libtrc\/.+\/)(?:(?:trk)|(?:tfa))\.js(?:\?(.*))?$/,n=0;n<t.length;n++)if(e=t[n].src.match(i))return e[1]}(e.getElementsByTagName("script")),n=[{key:"?",index:0},{key:"://",index:1},{key:"//",index:1},{key:"/",index:0}],r=0,a=n.length,s=i;r<a;r++)s=(t=x(s,n[r].key,2)).length>1?t[n[r].index]:t[0];return s},mt=function(){t.TRC.adManager=new t.TRC.AdServerManager(i.vvConfig,i.tblVersion),t.TRC.adManager.startVV().then((function(){t.TRC.adManager.run()}))},vt=function(t,e){return t?t[e]:t},St=function(t,e,i){if(0===c.objKeys(i).length||C[""+t])return t;var n=document.createElement("a");n.href=h;var r,a,s,o,u,l=(n.host||location.host).toLowerCase(),f=(n.href||location.href).toLowerCase(),d=R[e],g=vt(i[l],d),p=["m","mobile","www2","www3"],m=[];if(!g){for(function(t,e){for(var i=c.objKeys(t),n=0;n<i.length;n++){var r=i[n];e.push([r,t[r]])}}(i,m),m.sort((function(t,e){return t[0].length>e[0].length?-1:t[0].length<e[0].length?1:0})),r=0,a=m.length;r<a;r++)if((s=m[r][0].toLowerCase()).indexOf("/")>0){if(f.match(s)){g=vt(m[r][1],d);break}if(s.indexOf("www.")>-1&&f.match(s.replace("www.",""))){g=vt(m[r][1],d);break}}else if(l.match(s)){g=vt(m[r][1],d);break}if(!g&&l.indexOf("www.")<0){for(r=0,a=p.length;r<a&&(o=new RegExp("(https://|http://|^)"+p[r]+"."),u=l.replace(o,"www."),!(g=vt(i[u],d)));r++);g||(g=vt(i[u="www."+l],d))}}return g||"unknown-site-on-"+t},bt=function(t,e,i){var n=B(t);return n?e.call(this,n[T]):i},Tt=function(t,e,i){var n,r,a=[];try{if(!Array.isArray(t))return;for(r=0;r<t.length;r++)(n=t[r])&&!e[n]&&(e[n]=!0,n=M.prototype.switchProtocol.call(n,o.trk.rboxTrcProtocol()),a.push(i(n)));return a}catch(t){}};t.TRC=t.TRC||{},t.TRC.trk=o.trk=t.TRC.trk||{init:function(){t.TRC.utm&&!N()||(N()||v||(t.TRC._getGlobalRequestId=tt,t.TRC._getItemId=et,t.TRC._getItemType=ft,v=!0),t.TRC.hasTrk?N()||o.trk.execute():t._tfa&&!t._tfa.config.hasValidConfig()||(o.hasTrk=!0,function(){try{localStorage.setItem("taboolaStorageDetection","detect"),localStorage.removeItem("taboolaStorageDetection")}catch(t){return!1}return!0}()&&(o.eventUtils.safeAddEventListener(o.sharedEvents.PAGE_VIEW,(function(e){try{var n,r,a=e.detail,s=a.publisherIdType,c=a.accountId,u=a.pageViewInitiator,l=a.isUnifiedPageView,f=u===o.pageViewInitiator.TFA,d=a.metadata;if(X(t._taboola),f){if(t._tfa.config.safeGet("tfa:trk:prevent-concurrent-requests",!0,c)&&o.trk.isRequestProcessing(c))return;t._tfa.config.safeGet("tfa:trk:network-solution-enabled",!1,c)&&(c=St(c,s,i.networkMap))}r=function(t,e,i,n){var r={publisherId:t,isMediaRequest:i.isMediaRequest,isUnifiedPageView:i.isUnifiedPageView,publisherIdType:e,callbackName:"trkCallback"+(0===m?"":m),metadata:n};return r[T]=E,p[t]||(p[t]=[]),p[t].push(r),++m,r}(c,s,n={pageViewInitiator:u,isMediaRequest:f,isUnifiedPageView:l},d),A=A.loadTrc(c,s,n,r)}catch(e){o.eventUtils.dispatchEvent(o.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,{publisherId:c})}})),N()||o.trk.execute(),i.enableVV&&function(){if(!t.TRC.AdServerManager){var e=pt();t.TRC.VVReady=mt,j("//"+e+"/libtrc/vv."+i.tblVersion+".js")}}(),N()&&t._tfa.config.safeGet("tfa:trk:topics-enabled",!1,i.bakedPublisherId)&&this.saveGoogleTopicsApiInLocalStorage())))},execute:function(){var e=o.publisherIdType.NAME,n=St(i.bakedPublisherName,e,i.networkMap);o.eventUtils.dispatchEvent(o.sharedEvents.PAGE_VIEW,{accountId:n,publisherIdType:e,pageViewInitiator:o.pageViewInitiator.TRK}),t.TRC.publisherId=t.TRC.publisherId||n},getRequestStatus:function(t){var e=B(t);return e?e[T]:"u"},isRequestProcessing:function(t){return bt(t,(function(t){return w.indexOf(t)>-1}),!1)},hasRequestEnded:function(t){return bt(t,(function(t){return I.indexOf(t)>-1||!(w.indexOf(t)>-1)}),!1)},getPublisherRequestId:function(t){var e=B(t);return e&&"s"===e[T]?e[b]:null},getPublisherSessionData:function(t){return dt(t)||null},getViewId:function(){return P},getReferrer:J,loadPixels:function(e){try{return Tt(e,t.TRC.sharedObjects.loadedPixels,(function(t){var e=new Image;return e.src=t,e}))}catch(t){}},loadScriptTags:function(e){try{return Tt(e,t.TRC.sharedObjects.loadedScripts,(function(t){return j(t,null,null,!0)}))}catch(t){}},rboxNotLoaded:function(){return!(t.TRC&&t.TRC.utm)},rboxTrcProtocol:function(){return i.rboxTrcProtocol},saveGoogleTopicsApiInLocalStorage:function(){try{if(!e.browsingTopics)return;return e.browsingTopics().then((function(t){for(var e=[],i=0;i<t.length;i++)if(t[i].topic&&t[i].taxonomyVersion){var n={i:t[i].topic,v:t[i].taxonomyVersion};e.push(n)}localStorage.setItem("taboola global:top",JSON.stringify(e))})).catch((function(){}))}catch(t){}},readGoogleTopicsApiFromLocalStorage:function(){var t,e;try{if((e=(t=localStorage.getItem("taboola global:top"))?JSON.parse(t):null)&&e.length>0)return e}catch(t){}},hasSuperUTFSeq:function(t){for(var e=t.split("").map((function(t){return t.charCodeAt(0)})),i=0,n=0;n<e.length;n++){if(o.trk.isSuperUTF(e[n])||(i=0),i>=3)return!0;i++}return!1},isSuperUTF:function(t){return t>1200},encodeItemUrlIfNeeded:function(t){try{if(o.trk.hasSuperUTFSeq(t))return encodeURI(t)}catch(t){}return t}},N()&&!t._tfa.config.safeGet("tfa:trk:enabled",!0,i.bakedPublisherId)||o.trk.init()}(window,document,{bakedPublisherId:1458121,bakedPublisherName:"taboolaaccount-agenciagloballinkgmailcom",tblVersion:"20230702-3-RELEASE",normalizeItemId:function(t,e,i){return i||"text"!=e||"string"!=typeof t||0!=t.search(new RegExp("^https?://"))||(t=t.replace(/\?.*/,"",!1)),t.toLowerCase()},prenormalizeIdRules:{host:!0,fragment:"^(/video/|!)",query:["p","id"],"truncate-at":["search.searchcompletion.com","org.mozilla.javascript.undefined"],"trailing-dirsep":!0},prenormalizeUrlRules:!1,normalizeItemUrl:function(t,e,i){return t},urlExtractOrder:null,networkMap:{},vvConfig:null,enableVV:!1,rboxTrcProtocol:"https:",tfaContext:!0,jsScope:"TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"}),function(t,e){t._tfa=t._tfa||[],e.useStorageDetection=t.TRC.useStorageDetection=t.TRC.useStorageDetection||!0,e.text=e.text||{},e.text.lsplit=e.text.lsplit||function(t,e,i){var n=t.split(e);return n.slice(0,i-1).concat(n.length>=i?n.slice(i-1).join(e):[])},e.tfaUtil=e.tfaUtil||{},e.tfaUtil.safeAddParam=e.tfaUtil.safeAddParam||function(t,e,i){var n,r;i&&e&&t&&(n=encodeURIComponent(t),r=encodeURIComponent(e),i.push(n+"="+r))},e.tfaUtil.getParameterByName=e.tfaUtil.getParameterByName||function(t,e){if(!e||!t)return null;t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};var i=t.TRCImpl=t.TRCImpl||{};i.global=i.global||{},t.__trcError=t.__trcError||function(){}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i="taboola global";function n(){for(var t="trc_cookie_storage",i=new Object,n=document.cookie.split(/;\s+/),r=0;r<n.length;r++){var a=e.text.lsplit(n[r],"=",2),s=unescape(a[0]),o=unescape(a[1]);if(s==t){for(var c=o.split("|"),u=0;u<c.length;u++){a=c[u].split("=");i[unescape(a[0])]=unescape(a[1])}break}}function l(){var e,n,r=new Array;for(var a in i)i.hasOwnProperty(a)&&null!=i[a]&&(r[r.length]=escape(a)+"="+escape(i[a]));e=r.length>0?1:-1,n=new Date((new Date).getTime()+365*e*864e5),document.cookie=t+"="+escape(r.join("|"))+";path=/;expires="+n.toUTCString()}return this.getValue=function(t){return i.hasOwnProperty(t)?i[t]:null},this.setValue=function(t,e){i[t]=e,l()},this.removeKey=function(t){delete i[t],l()},this}function r(t){var e=t||{};return this.getValue=function(t){return e[t]?e[t]:null},this.setValue=function(t,i){e[t]=i},this.removeKey=function(t){delete e[t]},this.getData=function(){return e},this}function a(e){return this.getValue=function(i){return t[e+"Storage"].getItem(i)},this.setValue=function(i,n){try{t[e+"Storage"].setItem(i,n)}catch(t){}},this.removeKey=function(i){try{t[e+"Storage"].removeItem(i)}catch(t){}},this}function s(i){try{if(t.localStorage instanceof Storage&&e.useStorageDetection&&function(e){var i=t[e+"Storage"],n=(new Date).getTime()+"",r="_taboolaStorageDetection";try{if(i.setItem(r,n),i.getItem(r)==n)return i.removeItem(r),i}catch(t){}return null}(i))return new a(i)}catch(t){return null}}e.tfaPageManager=e.tfaPageManager||new function(){return this.state={},this.getLocalStorageImplementation=function(e,i){if(null!=this.state.privateStorageImpl&&"strict-w3c-storage"!=e)return this.state.privateStorageImpl;var a=t.TRCImpl?t.TRCImpl.global:{};switch(e=e||(a["local-storage-usage"]?a["local-storage-usage"]:"prefer-w3c-storage")){case"strict-w3c-storage":return s("session"===i?"session":"local");case"prefer-w3c-storage":var o=s("local");if(o)return this.state.privateStorageImpl=o;case"prefer-cookies":try{if(this.canWriteCookies())return this.state.privateStorageImpl=new n}catch(t){}default:return this.state.privateStorageImpl=new r}},this.getFirstPartyCookie=function(){if(this.state.firstPartyCookie)return this.state.firstPartyCookie;var t=this.getLocalStorageImplementation();if(t instanceof n||t instanceof r)return this.state.firstPartyCookie=t;try{if(this.canWriteCookies())return this.state.firstPartyCookie=new n}catch(t){}return this.state.firstPartyCookie=new r},this.canWriteCookies=function(){return t.navigator.cookieEnabled},this.getDummyStorage=function(t){return new r(t)},this.getValue=function(t){return this.getPublisherValue(i,t)},this.storePublisherValue=function(t,e,i){var n;this.isNotAllowedToWriteValue(e,i)||(n=this.buildKeyWithPublisher(t,e),this.getLocalStorageImplementation().setValue(n,i),this.addKeyToStoredKeysList(n))},this.isNotAllowedToWriteValue=function(t,i){return null==i||null==i||e.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(t)},this.buildKeyWithPublisher=function(t,e){return t+":"+e},this.getPublisherValue=function(t,i){return e.doNotTrack&&!this.isAllowedKeyWhenDoNotTrack(i)?null:this.getLocalStorageImplementation().getValue(this.buildKeyWithPublisher(t,i))},this.addKeyToStoredKeysList=function(t){var e=this.getStoredKeysList();-1===e.indexOf(t)&&(e.push(t),this.setStoredKeysList(e))},this.getStoredKeysList=function(){var t=this.buildKeyWithPublisher(i,"local-storage-keys"),e=this.getLocalStorageImplementation().getValue(t),n=[];try{n=JSON.parse(e)||[]}catch(t){__trcError("Could not parse local storage keys",t)}return n},this.setStoredKeysList=function(t){var e,n;try{e=JSON.stringify(t),n=this.buildKeyWithPublisher(i,"local-storage-keys"),this.getLocalStorageImplementation().setValue(n,e)}catch(t){__trcError("Could not stringify local storage keys",t)}},this.isAllowedKeyWhenDoNotTrack=function(e){var i,n=(t.TRCImpl&&t.TRCImpl.global||{})["dnt-allowed-keys"]||["session-id"];return null!=e&&(i=e.split(":")[1]||e,-1!==n.indexOf(i))},this.storeUserId=function(t){this.isNotAllowedToWriteValue("user-id",t)||this.storePublisherValue(i,"user-id",t)},this.getUserIdFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(i,"user-id"))},this.getSessionDataFirstPartyCookie=function(){return this.getFirstPartyCookie().getValue(this.buildKeyWithPublisher(i,"session-data"))},this.initState=function(){void 0===this.state&&(this.state={}),this.state.privateStorageImpl=null},this.initState(),this},e.tfaPageManager.TABOOLA_GLOBAL_KEY=i}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e,i){var n=i.tfaPageManager,r="tblci",a="#"+r;function s(t,e){t&&e&&(e[t]=!0)}function o(t,e,i){for(var n={},r=0;r<arguments.length;r++)s(arguments[r],n);return Object.keys(n).length>1}i.tfaUserId={initialized:!1,userId:null,clickId:null,getUserId:function(){return this.userId},getClickId:function(){return this.clickId},getHttpsPrefix:function(){return"https://"},sendUserIdsToTrc:function(e,n,r,a){var s,c=[];if(o(e,n,r))return i.tfaUtil.safeAddParam("uiref",e,c),i.tfaUtil.safeAddParam("uils",n,c),i.tfaUtil.safeAddParam("uifpc",r,c),i.tfaUtil.safeAddParam("tblci",a,c),s=new Image,t._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(s.referrerPolicy="no-referrer-when-downgrade"),s.src="https://trc.taboola.com/sg/taboola-tfa/1/um/?"+c.join("&"),s},isUserCanBeTracked:function(e){return!e||!t._tfa.config.safeGet("tfa-uid:filter-do-not-track",!0)||-1===e.indexOf("TABOOLA-DO-NOT-TRACK")},readAndStoreUserId:function(){var t=this.extractUserIdFromReferrer(),e=n.getValue("user-id"),i=n.getUserIdFirstPartyCookie();this.isUserCanBeTracked(t)||(t=void 0),this.isUserCanBeTracked(e)||(e=void 0),this.isUserCanBeTracked(i)||(i=void 0),this.sendUserIdsToTrc(t,e,i,this.getClickId()),t&&(n.storeUserId(t),i&&n.getFirstPartyCookie().setValue(n.TABOOLA_GLOBAL_KEY+":user-id",t)),this.userId=t||e||i},readAndStoreClickIdParam:function(){var t=this.extractClickIdFromUrl(this.getWindowLocation().toString())||this.extractClickIdFromUrl(this.getReferrer()),e=n.getValue(r);t&&n.storePublisherValue(n.TABOOLA_GLOBAL_KEY,r,t),this.clickId=t||e},extractUserIdFromReferrer:function(){var t=this.getReferrer();if(t&&t.indexOf("taboola")>-1)return i.tfaUtil.getParameterByName("ui",t)},extractClickIdFromUrl:function(t){if(t){var e,n=t.length>1&&-1!==t.indexOf("#")?t.substring(t.indexOf("#")):"";if(e=i.tfaUtil.getParameterByName(r,t))return e;if(n&&n.length>a.length&&0===n.indexOf(a))return n.substr(a.length)}},getWindowLocation:function(){return t.location},getReferrer:function(){return e.referrer},init:function(){this.initialized||(this.readAndStoreUserId(),this.readAndStoreClickIdParam(),this.initialized=!0)}},i.tfaUserId.init(),i.tfaUserId.CLICK_ID_KEY=r}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i,n,r,a,s,o="_tfa",c=t[o]=t[o]||[],u="crossSessionsData";function l(t,e,i){var n=this.getTimeLeftForSession(t,this.getSessionDuration(),e);n<0&&(n=0),setTimeout((function(){i()}),n)}function f(t){return t.ver&&t.ver===this.getDataVersion()}var d=function(){};d.prototype={constructor:d,init:function(t){if(s=c.config.safeGet("tfa:engagement:session-duration-in-milliseconds",216e5),!this.isInitialized()){var i=e.eventUtils.getDateNow(),n=this.getSessionDataFromStorage();if(this.getIsLocalStorageAvailable())return r=n&&n.sessionStartTime,l.call(this,n,i,t),r&&!this.isSessionInvalid(n)||(r=i,this.persistDefaultValues(r)),a=!0,this}},getStorageKey:function(){return"eng_mt"},getCrossSessionsData:function(t){var e=t&&t.getValue(this.getStorageKey()),i=e&&JSON.parse(e);return i&&i[u]},resetStorageMetricData:function(){var t=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),i=this.getCrossSessionsData(t),n={crossSessionsData:i};t.setValue(this.getStorageKey(),i?JSON.stringify(n):"")},hasOnlyCrossSessionData:function(t,e){return t&&1===t.length&&e.hasOwnProperty(u)},isSessionInvalid:function(t){if(!t)return!0;var e=Object.keys(t);return this.hasOnlyCrossSessionData(e,t)},getSessionDataFromStorage:function(){var t,i;t=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage"),n=!!t;var r=t&&t.getValue(this.getStorageKey());if(i=r&&JSON.parse(r))return this.isSessionInvalid(i)?i:!f.call(this,i)||this.hasSessionEnded()?(this.resetStorageMetricData(),i):i},hasSessionEnded:function(){return!!a&&(!r||e.eventUtils.getDateNow()-r>this.getSessionDuration())},persistDefaultValues:function(t){var i=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");if(i){var n={ver:36,sessionStartTime:t,scrollDepth:0,sessionDepth:[],timeOnSite:0},r=this.getCrossSessionsData(i);r&&(n[u]=r),i.setValue(this.getStorageKey(),JSON.stringify(n))}},persistSpecificMetricsData:function(t,i){var n,r=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");r&&t&&(n=this.getSessionDataFromStorage())&&(n[t]=i,r.setValue(this.getStorageKey(),JSON.stringify(n)))},getCrossSessionsDataKey:function(){return u},getSessionDuration:function(){return s},getDataVersion:function(){return 36},getIsLocalStorageAvailable:function(){return n},getSessionStartTime:function(){return r},getTimeLeftForSession:function(t,e,i){return t&&r?r+e-i:e},isInitialized:function(){return a}},(i=c.TEM=c.TEM||{}).ESU=i.ESU||new d}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i,n="_tfa";function r(t,e){this.storageUtils.persistSpecificMetricsData(t,e)}var a=function(){};a.prototype={constructor:a,init:function(t,e,i){this.isValid=t&&e&&i,this.storageUtils=t,this.visibilityListener=i,this.refreshFromStorage(),this.initLastVisibleStartTime(),this.visibilityListener.subscribeToEvent(this.handleVisibilityChange.bind(this)),e.subscribeToEvent(this.handleStorageChange.bind(this))},getStorageKey:function(){return"timeOnSite"},initLastVisibleStartTime:function(){this.isValid&&(this.lastVisibleStartTime=e.eventUtils.getDateNow())},refreshFromStorage:function(){if(this.isValid){var t=this.storageUtils.getSessionDataFromStorage(),e=0;t&&t[this.getStorageKey()]&&(e=t[this.getStorageKey()]||0),this.timeOnSite=e}},calcTimeOnSite:function(){if(this.isValid)return this.lastVisibleStartTime?this.timeOnSite+(e.eventUtils.getDateNow()-this.lastVisibleStartTime):this.timeOnSite},handleVisibilityChange:function(){this.isValid&&(this.visibilityListener.getIsPageHidden()?(this.timeOnSite=this.calcTimeOnSite(),r.call(this,this.getStorageKey(),this.timeOnSite)):this.lastVisibleStartTime=e.eventUtils.getDateNow())},handleStorageChange:function(){this.refreshFromStorage()},getTimeOnSite:function(){if(this.isValid)return this.visibilityListener.getIsPageHidden()?this.timeOnSite:this.calcTimeOnSite()}},(i=t[n]=t[n]||[]).TEM=i.TEM||{},i.TEM.TOS=i.TEM.TOS||new a}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(){var t,e,i="_tfa",n=!1;function r(){return null==document.body||null==document.documentElement?0:(n=!0,Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-document.documentElement.clientHeight)}function a(t,e){this.storageUtils.persistSpecificMetricsData(t,e)}function s(t,e){var i;return function(){var n=this,r=arguments;clearTimeout(i),i=setTimeout((function(){t.apply(n,r)}),e)}}var o=function(){};o.prototype={constructor:o,init:function(t,e){this.storageUtils=t||{},e.subscribeToEvent(this.handleStorageChange.bind(this)),this.refreshFromStorage(),this.initEventListeners(),this.updateMeasurements(),this.calcMaxScrollPercentage()},getStorageKey:function(){return"scrollDepth"},getScrollDepth:function(){return n||this.calcMaxScrollPercentage(),this.maxScrollPercentage},getMaxScrollableAmount:function(){return n||(this.maxScrollableAmount=r()),this.maxScrollableAmount},initEventListeners:function(){window.addEventListener("resize",s(this.onResize.bind(this),100)),window.addEventListener("scroll",s(this.onScroll.bind(this),50))},refreshFromStorage:function(){var t=this.storageUtils.getSessionDataFromStorage(),e=0;t&&t[this.getStorageKey()]&&(e=t[this.getStorageKey()]||0),this.maxScrollPercentage=e},onResize:function(){this.updateMeasurements()},onScroll:function(){this.calcMaxScrollPercentage()},updateMeasurements:function(){this.winHeight=window.innerHeight,this.maxScrollableAmount=r()},calcMaxScrollPercentage:function(){this.updateMeasurements();var t=0===this.maxScrollableAmount?0:Math.floor(window.pageYOffset/this.maxScrollableAmount*100);t>this.maxScrollPercentage&&(this.maxScrollPercentage=t,a.call(this,this.getStorageKey(),this.maxScrollPercentage))},handleStorageChange:function(){this.refreshFromStorage()}},(e=(t=window[i]=window[i]||[]).TEM=t.TEM||{}).SCD=e.SCD||new o}(),function(t,e){var i=t._tfa.TEM,n=function(){};n.prototype={constructor:n,init:function(t,i,n){this.storageUtils=t,this.refreshFromStorage(),e.eventUtils.safeAddEventListener(n,this.handleUnipPageView.bind(this)),i.subscribeToEvent(this.handleStorageChange.bind(this))},getKey:function(){return"ssd"},getStorageKey:function(){return"sessionDepth"},setState:function(t){this.visitedUrls={};for(var e=0;e<t.length;e++)this.visitedUrls[t[e]]=!0},getState:function(){return this.visitedUrls?Object.keys(this.visitedUrls):[]},getMetric:function(){return this.getState().length},persistState:function(){var t=this.getState();this.storageUtils.persistSpecificMetricsData(this.getStorageKey(),t)},refreshFromStorage:function(){var t=this.storageUtils.getSessionDataFromStorage(),e=[];t&&t[this.getStorageKey()]&&(e=t[this.getStorageKey()]||[]),this.setState(e)},handleUnipPageView:function(){try{var t=e.eventUtils.hashString(window.location.href);this.visitedUrls[t]||(this.visitedUrls[t]=!0,this.persistState())}catch(t){}},handleStorageChange:function(){this.refreshFromStorage()},isURLVisited:function(t){return this.visitedUrls&&this.visitedUrls[t]}},i.SSD=i.SSD||new n}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t){var e,i,n=window._tfa||[],r=n.TEM||{},a="sessionsHistory",s=function(){};s.prototype={init:function(t){e=n.config.safeGet("tfa:engagement:session-history-limit",10),i=n.config.safeGet("tfa:engagement:session-history-timeframe-in-milliseconds",2592e6),this.storageUtils=t,this.updateCrossSessionsData(this.storageUtils.getSessionStartTime())},updateCrossSessionsData:function(t){var e=this.updateData(t);return this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),e),e},updateData:function(t){var e=this.getCrossSessionsDataFromStorage()||{};return e[a]=this.getSessionsHistory(t),e},resetCrossSessionsData:function(){this.storageUtils.persistSpecificMetricsData(this.storageUtils.getCrossSessionsDataKey(),"")},getCrossSessionsDataFromStorage:function(){var t=this.storageUtils.getSessionDataFromStorage();return t&&t[this.storageUtils.getCrossSessionsDataKey()]},getFilteredSessionsHistory:function(t,i){var n=t?this.removeOldSessions(t,i):[];if(!n.indexOf(i)>-1&&!this.isInPreviousSession(n,i)){for(;n.length>e-1;)n.shift();n.push(i)}return n},removeOldSessions:function(t,e){for(var i=[],n=0;n<t.length;n++)this.isSessionOld(t[n],e)||i.push(t[n]);return i},isSessionOld:function(t,e){return e-i>t},getSessionsHistory:function(t){var e=this.getCrossSessionsDataFromStorage(),i=e?e[a]:[];return this.getFilteredSessionsHistory(i,t)},isInPreviousSession:function(t,e){return!(!Array.isArray(t)||!t.length)&&e-t[t.length-1]<this.storageUtils.getSessionDuration()}},r.crossSessionsUtils=r.crossSessionsUtils||new s}(),function(t){var e,i=window._tfa||[],n=i.TEM||{},r=function(){};r.prototype={init:function(t,n,r){(e=i.config.safeGet("tfa:engagement:return-visits:is-enabled",!1))&&(this.storageUtils=t,this.crossSessionsUtils=r,this.refreshSessionsHistoryFromLocalStorage(),n.subscribeToEvent(this.handleStorageChange.bind(this)))},setState:function(t){this.sessionsHistory=[];for(var e=0;e<t.length;e++)this.sessionsHistory.push(t[e])},addReturnVisits:function(t){if(t){if(e){var i=this.getReturnVisits();t.rv=i&&i.length}return t}},getReturnVisits:function(){var t=this.sessionsHistory;return Array.isArray(t)&&t.length?t:[]},refreshSessionsHistoryFromLocalStorage:function(){var t=this.storageUtils?this.storageUtils.getSessionStartTime():[],e=this.crossSessionsUtils&&this.crossSessionsUtils.getSessionsHistory(t);this.setState(e)},handleStorageChange:function(){this.refreshSessionsHistoryFromLocalStorage()}},n.returnVisits=n.returnVisits||new r}(),function(t,e){var i,n="_tfa",r=function(){};r.prototype={constructor:r,init:function(){this.runningId=0,this.subscribers={},this.setVisibilityProperties(),this.initMetricData(),this.initListener()},initMetricData:function(){this.isPageHidden=document[this.hiddenProp]},initListener:function(){e.eventUtils.safeAddEventListener(this.visibilityChangeEventName,this.handleVisibilityChange.bind(this))},setVisibilityProperties:function(){void 0!==document.hidden?(this.hiddenProp="hidden",this.visibilityChangeEventName="visibilitychange"):void 0!==document.msHidden?(this.hiddenProp="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProp="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")},handleVisibilityChange:function(){this.isPageHidden=document[this.hiddenProp],this.notify()},getIsPageHidden:function(){return this.isPageHidden},subscribeToEvent:function(t){var e=this.runningId++;return this.subscribers[e]=t,function(){delete this.subscribers[e]}.bind(this)},notify:function(){Object.keys(this.subscribers).forEach(function(t){this.subscribers[t]()}.bind(this))}},(i=t[n]=t[n]||[]).TEM=i.TEM||{},i.TEM.visibilityListener=i.TEM.visibilityListener||new r}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i,n="_tfa",r=function(){};r.prototype={constructor:r,init:function(t){this.runningId=0,this.subscribers={},this.storageUtils=t,this.initListener()},initListener:function(){e.eventUtils.safeAddEventListenerToWindow("storage",this.handleStorageChange.bind(this))},handleStorageChange:function(t){t&&t.key===this.storageUtils.getStorageKey()&&this.notify(t)},subscribeToEvent:function(t){var e=this.runningId++;return this.subscribers[e]=t,function(){delete this.subscribers[e]}.bind(this)},notify:function(t){Object.keys(this.subscribers).forEach(function(e){this.subscribers[e](t)}.bind(this))}},(i=t[n]=t[n]||[]).TEM=i.TEM||{},i.TEM.storageListener=i.TEM.storageListener||new r}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i,n,r,a="_tfa",s=t[a]=t[a]||[],o=s.TEM=s.TEM||{},c=o.ESU||{},u=o.SCD||{},l=o.SSD||{},f=o.TOS||{},d=o.returnVisits||{},h=o.crossSessionsUtils||{},g=o.visibilityListener||{},p=o.storageListener||{},m="numOfTimesMetricsSent",v=!1,S=Date.now();function b(t){i.push(t)}function T(){y(),c.resetStorageMetricData()}function y(){clearTimeout(r)}function E(t){(isNaN(n)||n<0)&&(n=0),c.hasSessionEnded()||(n++,c.persistSpecificMetricsData(m,n),f.getTimeOnSite()>3e5&&l.getMetric()>5||o.sendMetrics("i",t),I())}function I(){if(clearTimeout(r),v&&!g.getIsPageHidden()){var t=1500*Math.pow(2,n);t!==1/0&&(r=setTimeout(E,t,t))}}function w(){R(),I()}function R(){var t=c.getSessionDataFromStorage();n=t&&t[m]&&t[m]||0}function C(){p.subscribeToEvent(U.bind(this)),g.subscribeToEvent(_.bind(this))}function _(){g.getIsPageHidden()?y():I()}function U(t){R(),t&&v&&!g.getIsPageHidden()&&function(t){var e=JSON.parse(t.newValue),i=JSON.parse(t.oldValue);return!function(t,e){return t.sessionDepth.length!==e.sessionDepth.length}(e,i)&&!function(t,e){return t.timeOnSite!==e.timeOnSite}(e,i)}(t)&&(v=!1,y(),D(50,3e4,w,y))}function D(t,e,i,n){var r=!1;function a(t){if(window.top!==window){var e=window.parent;for(e.postMessage(t,"*");e!==e.parent;)(e=e.parent).postMessage(t,"*")}function i(e){try{for(var n=0;n<e.frames.length;n++){var r=e.frames[n];r!==window&&(r.postMessage(t,"*"),i(r))}}catch(t){}}i(window.top),window.parent!==window&&i(window)}function s(){a({type:"TARP",query:!1,t:S})}function o(){r=!1,a({type:"TARP",query:!0}),setTimeout((function(){r?setTimeout(e,o):v||(v=!0,i(),s())}),t)}v=!1,window.addEventListener("message",(function(t){var a=t.data;"TARP"===a.type&&t.source!==window&&(v?a.query?s():a.t<S?(v=!1,r=!0,n(),setTimeout(e,o)):s():a.query||(a.t<S?r=!0:(v=!0,i(),s())))})),o()}o.init=o.init||function(){o.initialized||s.config.safeGet("tfa:engagement:is-manager-disabled",!1,1458121)||(i=s.TUP||{},o.initialized=!0,o.ESU.init(T),g.init(),p.init(c),C(),o.ESU.getIsLocalStorageAvailable()&&(h.init(c),f.init(c,p,g),u.init(c,p),l.init(c,p,e.sharedEvents.PAGE_VIEW),d.init(c,p,h),o.initIntervalTrigger()),D(50,3e4,w,y))},o.onSessionEndTrigger=o.onSessionEndTrigger||T,o.sendMetrics=o.sendMetrics||function(t,e){var n=function(t,e){var i={notify:"event",name:"pre_d_eng_tb",tos:f.getTimeOnSite(),scd:u.getScrollDepth(),ssd:l.getMetric(),est:c.getSessionStartTime(),ver:c.getDataVersion(),isls:c.getIsLocalStorageAvailable(),src:t,invt:e,msa:"function"==typeof u.getMaxScrollableAmount?u.getMaxScrollableAmount():void 0};return d.addReturnVisits(i)}(t,e);n.est&&(i.pageViewAccountIds?function(t,e){var i=Object.keys(t);i.length>0?i.forEach((function(i){e.id=t[i],b(e)})):b(e)}(i.pageViewAccountIds,n):b(n))},o.initIntervalTrigger=o.initIntervalTrigger||w,o.EVENTS=o.EVENTS||{SESSION_END:"SESSION_END"}}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e){var i="_tfa",n=t[i]=t[i]||[],r="taboola global:last-external-referrer",a=["taboola","taboolanews","taboolasyndication"];e.lastExternalReferrer={init:function(){n.config.safeGet("tfa:last-external-referrer:is-disabled",!1,1458121)||this.extractExternalReferrerIfExistsAndStoreLocally()},extractExternalReferrerIfExistsAndStoreLocally:function(){var e=this.extractExternalReferrer(t);e&&this.saveExternalReferrerToLocalStorage(e)},extractExternalReferrer:function(t){var i=t.location.href,n=this.getExternalReferrer(t);return this.isExternalReferrerTaboola(i,n)?"taboola":n||e.tfaUtil.getParameterByName("utm_source",i)||e.tfaUtil.getParameterByName("gclid",i)||e.tfaUtil.getParameterByName("fbclid",i)||e.tfaUtil.getParameterByName("dicbo",i)||e.tfaUtil.getParameterByName("dclid",i)?"other":""},isExternalReferrerTaboola:function(t,i){if(e.tfaUtil.getParameterByName("tblci",t))return!0;var n=e.tfaUtil.getParameterByName("utm_source",t);if(n&&"taboola"===n.toLowerCase())return!0;if(i)for(var r=i.split("/")[2],s=0;s<a.length;s++){if(new RegExp("(^|.+\\.)"+a[s]+"\\.com.*").exec(r))return!0}return!1},getExternalReferrer:function(t){var e=t.document.referrer;return e&&t.location.hostname!==e.split("/")[2]?e:""},saveExternalReferrerToLocalStorage:function(t){var i=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");i&&i.setValue(r,t)},getLastExternalReferrer:function(){var i=e.tfaPageManager.getLocalStorageImplementation("strict-w3c-storage");return i?i.getValue(r):this.extractExternalReferrer(t)}},e.lastExternalReferrer.init()}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]),function(t,e,i){var n,r=e.tfaPageManager||{},a="_tfa",s=window[a]=window[a]||[],o=s.TEM||{},c={event:function(t,i){var n=x(t),r=Y(n),a=R[r];if(i=parseInt(i,10),!a||!a(n,i)){if(Z(i)){if(X(i))return void function(t,i){var n=H();if(!e.trk.getPublisherRequestId(t)){if(e.trk.isRequestProcessing(t))return void n.messageDelayer.delayMessage(t,i,{successCallback:M,failCallback:function(t,e,i,n){var r=C[n];r||(r=n),B(e,r),V(t,e)},timeoutInMillis:$(t)});B(i,e.trk.getRequestStatus(t))}V(t,i)}(i,n);e.trk.getPublisherRequestId(i)||B(n,"wffo")}else B(n,"ttd");V(i,n)}},subscription:function(t,e){var i=x(t);(function(t,e){(function(t){t.ce="subscr"})(e),function(t){var e=r.getSessionDataFirstPartyCookie();void 0!==e&&e&&(t.sd=e)}(e),function(t,e){void 0!==t.sourceurl&&t.sourceurl&&(e.surl=t.sourceurl)}(t,e)})(t,i),V(parseInt(e,10),i)}},u=/(\S+)taboola(\S+|)\.com\/libtrc\/unip\/(\S+)\/tfa\.js(\S+|)/,l="script[src$='tfa.js']",f="page_view",d=["notify","id"],h={name:"en",url:"item-url",referrer:"ref",timestamp:"tim"},g="https:",p="trc.taboola.com",m="get",v="unip",S=!0,b="EMPTY_COMMAND",T="MISSING_NOTIFY",y="INVALID_NOTIFY",E="MISSING_NAME",I="INVALID_ID",w={TFA_VALIDATION_ERROR:"TFA_VALIDATION_ERROR"},R=((n={})[f]=function(t,i){var n=H(),r=!1;return i&&(r=function(t,i){var n=!1;try{n=!!e.tfaUserId.getClickId()}catch(t){}return function(t){return Z(t)&&s.config.safeGet("tfa:trk:is-unified-page-view",!1,t)}(i)&&!function(t,e){if(t===f)for(var i in e)if(!([h.name,h.timestamp].indexOf(i)>=0))return!0;return!1}(f,t)&&!n}(t,i),L(t),n.pageViewAccountIds[i]=parseInt(i,10),e.eventUtils.dispatchEvent(e.sharedEvents.PAGE_VIEW,{accountId:i,publisherIdType:e.publisherIdType.ID,pageViewInitiator:e.pageViewInitiator.TFA,isUnifiedPageView:r,metadata:t})),r},n),C=function(){var t={};return t[e.sharedEvents.REQUEST_ID_CREATION_TIMEOUT]="to",t[e.sharedEvents.REQUEST_ID_CREATION_ERROR]="err",t[e.sharedEvents.REQUEST_ID_CREATION_JS_ERROR]="jserr",t[e.sharedEvents.INVALID_TRK_RESPONSE]="itrkr",t}(),_=!isNaN(parseFloat(1458121)),U="callback";function D(){var t,e=function(){for(var t,e=document.querySelectorAll(l),i=0;i<e.length;i++)if((t=e[i]).src&&t.src.indexOf("/unip/")>0)return t}();if(e&&e.src&&(t=e.src.replace(u,"$3")))return/^\d+$/.test(t)?parseInt(t,10):(z("Value '"+t+"' is invalid for 'id' param in script source url '"+e.src+"'. Only numeric values are allowed."),-1)}function O(){return e.eventUtils.getDateNow()}function k(){try{var t=e.tfaUserId.getUserId(),i=r.getValue("user-id");if(t||i)return t||i}catch(t){z("Error while trying to add user-id param",t)}}function A(t){try{var i=e.tfaUserId.getClickId();i&&(t[e.tfaUserId.CLICK_ID_KEY]=i)}catch(e){z("Error while trying to addClickIdParam, params="+JSON.stringify(t),e)}}function P(t){var i=H();i.referrer||(i.referrer=e.trk.getReferrer()),t[h.referrer]=i.referrer}function N(t,e){var i=h.url;(function(t,e){var i=s.config.safeGet("tfa:add-item-url:event-list",[],e);return"*"===i||i.indexOf(t)>=0})(Y(t),e)&&(t[i]=t[i]||document.location.href)}function x(t){var e={},i=!1;for(var n in t[h.timestamp]=O(),t)!t.hasOwnProperty(n)||d.indexOf(n)>=0||(e[h.hasOwnProperty(n)?h[n]:n]=t[n],i=!0);return i&&e}function M(t,e){(function(t){var e=k(),i=t[U];if(i){if(!e)return Q("No UserId to notify callback"),void delete t[U];if("function"!=typeof i)return Q("Callback function parameter is not a function "+i),void delete t[U];try{i({userId:e})}catch(t){z("Error calling advertiser callback",t)}delete t[U]}})(e),V(t,e)}function V(t,i){var n=function(t){return s.config.safeGet("tfa:default-protocol",g,t)}(t)+"//"+function(t,e){var i=Y(e);return s.config.safeGet("tfa:event-host-map",{},t)[i]||p}(t,i);(function(t,e){j(t),q(t,e),G(t,e)})(i,t),L(i,t),function(t){document.featurePolicy&&document.featurePolicy.allowsFeature("attribution-reporting")&&(t.headers||(t.headers={}),t.headers["Attribution-Reporting-Eligible"]="trigger")}(i);try{e.TRCLogger[m](n,v,i,t)}catch(e){z("Error while trying to send to server event with id '"+t+"' and params '"+JSON.stringify(i)+"'.",e)}}function L(t,e){(function(t){var e=k();e&&(t.ui=e)})(t),A(t),P(t),function(t){t.cv=i}(t),N(t,e),function(t){t&&o&&o.ESU&&o.ESU.getIsLocalStorageAvailable()&&(function(t){o.TOS&&(t.tos=o.TOS.getTimeOnSite())}(t),K(t),function(t){o.SCD&&(t.scd=o.SCD.getScrollDepth())}(t))}(t),F(t)}function F(t){var i=e.lastExternalReferrer.getLastExternalReferrer();i&&(t.ler=i)}function K(t){if(o.SSD){var i=o.SSD.getMetric(),n=e.eventUtils.hashString(window.location.href);o.SSD.isURLVisited(n)||i++,t.ssd=i}}function j(t){t.vi=e.trk.getViewId()}function q(t,i){var n=e.trk.getPublisherRequestId(i);n&&(t.ri=n)}function G(t,i){var n=e.trk.getPublisherSessionData(i);n&&(t.sd=n)}function B(t,e){t.mrir=e}function H(){return window&&window[a]&&window[a].TUP||{}}function W(t){var e,i;if(function(t){return t?t.notify?c.hasOwnProperty(t.notify)?t.name?!(t.hasOwnProperty("id")&&!/^\d+$/.test(t.id)&&(J(I,t,"Value '"+t.id+"' is invalid for 'id' field in command '"+JSON.stringify(t)+"'. Only numeric values are allowed."),1)):(J(E,t,"Mandatory 'name' field is missing in command '"+JSON.stringify(t)+"'."),!1):(J(y,t,"Value '"+t.notify+"' is invalid for 'notify' field in command '"+JSON.stringify(t)+"'."),!1):(J(T,t,"Mandatory 'notify' field is missing in command '"+JSON.stringify(t)+"'."),!1):(J(b,t,"Command is '"+t+"'."),!1)}(t))if(e=H(),i=t.id||e.domAccountId){if(-1!==i)try{c[t.notify](t,i)}catch(e){z("An error occurred while handling command '"+JSON.stringify(t)+"'.",e)}}else e.asyncQueue.push(t)}function J(t,i,n){var r=H();e.eventUtils.dispatchEvent(w.TFA_VALIDATION_ERROR,{accountId:r.domAccountId,errorCode:t,command:i}),z(n)}function z(t,e){S&&Q(t,e)}function Q(t,e){e?console.log("Taboola Pixel: "+t,e):console.log("Taboola Pixel: "+t)}function $(t){return 500+s.config.safeGet("tfa:trk:tracking-request-timeout",2e3,t)}function Y(t){return t[h.name]}function Z(t){return s.config.safeGet("tfa:trk:enabled",!0,t)}function X(t){return s.config.safeGet("tfa:trk:wait-for-request-id",!0,t)}!function(){var t=s.TUP=s.TUP||{},i=s.config.safeGet("tfa:get-publisher-id-from-baker",!1);t.domAccountId=t.domAccountId||(i&&_?1458121:D()),t.initialized||(t.push=s.TUP.push||W,t.initialized=!0,t.asyncQueue=[],t.EVENTS=w,t.pageViewAccountIds={},t.messageDelayer=new e.MessageDelayer("publisherId",e.sharedEvents.REQUEST_ID_CREATED,[e.sharedEvents.REQUEST_ID_CREATION_JS_ERROR,e.sharedEvents.REQUEST_ID_CREATION_ERROR,e.sharedEvents.REQUEST_ID_CREATION_TIMEOUT,e.sharedEvents.INVALID_TRK_RESPONSE]),o&&o.init&&o.init()),function(){var t=H();t.initialized&&t.domAccountId&&setTimeout((function(){for(var t=H().asyncQueue;t.length;)W(t.shift())}),0)}()}()}(window,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"],"20230702-3-RELEASE"),function(t,e,i){var n,r="_tfa",a={orderid:"orderid",currency:"currency",revenue:"revenue",quantity:"quantity",name:"name",attributionGroup:"attributionGroup"},s={type:"marking-type"},o="https://trc.taboola.com/{$publishreId}log/3/{$logType}?",c=/(\S+)taboola(\S+|)\.com\/libtrc\/(\S+)\/tfa\.js(\S+|)/,u=[],l=[],f="_tecq",d="_dcojobs",h=!isNaN(parseFloat(1458121));function g(t){var e;switch(t.notify){case"action":e=u;break;case"mark":e=l;break;case"event":case"subscription":e=n.TUP;break;case"ecevent":var i=n.config&&n.config.safeGet("tfa:ecomm:enabled",!1,t.id),r=n.config&&n.config.safeGet("tfa:ecomm:cnx-enabled",!1,t.id);i||r?e=window[f]=window[f]||[]:n.config&&n.config.safeGet("tfa:dco:jobs:enabled",!1,t.id)&&(e=window[d]=window[d]||[]);break;default:return}e&&e.push(t)}function p(){return i.tfaUserId&&i.tfaUserId.getUserId()?"&ui="+encodeURIComponent(i.tfaUserId.getUserId()):""}function m(){return i.tfaUserId&&i.tfaUserId.getClickId()?"&"+i.tfaUserId.CLICK_ID_KEY+"="+encodeURIComponent(i.tfaUserId.getClickId()):""}function v(t,e){return t.replace(/\{([^{}]*)\}/g,(function(t,i){var n=e[i];return"string"==typeof n||"number"==typeof n?n:t}))}function S(e){var i=new Image;t._tfa.config.safeGet("tfa:add-referrer-policy-when-firing-pixel",!0)&&(i.referrerPolicy="no-referrer-when-downgrade"),i.src=e}function b(){return t.location.href}function T(){var t=new Date,e=t.getHours(),i=t.getMinutes(),n=t.getSeconds()+t.getMilliseconds()/1e3;return(e<10?"0":"")+e+":"+(i<10?"0":"")+i+":"+(n<10?"0":"")+n.toFixed(3)}function y(){var i=t.location.search,n=e.referrer.match(/(\?\S+)$/g);return E(i.replace(/^\?/,"").split(/&/))+(n?E(n[0].replace(/^\?/,"").split(/&/)):"")}function E(t){var e,i,n="";for(e=0,i=t.length;e<i;e++)0==t[e].indexOf("trc_")&&(n=n+"&"+t[e]);return n}function I(){var t,e,i,n=document.getElementsByTagName("script"),r="";for(t=0,e=n.length;t<e;t++)if((i=n[t].src)&&(r=i.replace(c,"$3"))!==n[t].src&&r.indexOf("unip/")<0)return r;return r}function w(t,e){var i,n="";for(i in t)void 0!==e[i]&&(n+="&"+t[i]+"="+e[i]);return n}function R(t){for(var e=0;e<arguments.length;e++)(t=arguments[e])instanceof Object&&g(t);return C(),arguments.length}function C(){(function(){var e,i,n;if(n=t._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&h?1458121:I())for(e=0,i=u.length;e<i;e++)S(v(o,{$publishreId:n?n+"/":"",$logType:"action"})+"tim="+escape(T())+"&item-url="+escape(b())+w(a,u.shift())+y()+p()+m())})(),function(){var e,i,n;if(n=t._tfa.config.safeGet("tfa:get-publisher-id-from-baker",!1)&&h?1458121:I())for(e=0,i=l.length;e<i;e++)S(v(o,{$publishreId:n?n+"/":"",$logType:"mark"})+"tim="+escape(T())+"&item-url="+escape(b())+w(s,l.shift())+y()+p()+m())}()}(n=t[r]=t[r]||[]).registered||(n.push=R,n.registered=!0,function(){for(;n.length;)R(n.shift())}())}(window,document,window["TFASC".indexOf("{jsScope}")>=0?"TRC":"TFASC"]);